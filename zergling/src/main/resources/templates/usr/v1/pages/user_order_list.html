<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>USER</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="/usr/v1/assets/css/bootstrap.min.css" />
    <link rel="shortcut icon" href="/usr/v1/assets/images/favicon.svg"> -->
    <link rel="icon" type="image/png" sizes="256x256" href="/usr/v1/assets/images/favicon/favicon_256x256.png">

    <link rel="stylesheet" href="/usr/v1/assets/css/reset.css">
    
    <!-- <link rel="stylesheet" href="/usr/v1/assets/css/style.css"> -->
    <link rel="stylesheet" href="/usr/v1/assets/css/tiny-slider.css">
    <!-- font-awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- another-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/css/bootstrap-select.min.css" integrity="sha256-wiMI7buOV5UBzdWN4s4kXqE/LZ794hx5oJOOIQlDBaM=" crossorigin="anonymous">
    
    <!-- slick -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>

    <!-- swiper -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="/usr/v1/assets/css/style.css">
    <link rel="stylesheet" href="/usr/v1/assets/css/user_account.css">
    <link rel="stylesheet" href="/usr/v1/assets/css/user_order_list.css">
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

</head>
<body>
    <div class="page-wrapper">
        <div th:replace="~{usr/v1/infra/include/head :: header}"></div>
        <main>
            <div th:replace="~{usr/v1/infra/include/user:: user-header}"></div>
            <div class="user_body d-flex justify-content-between">
                <div th:replace="~{usr/v1/infra/include/user :: user-aside}"></div>
                <div class="content_area">
                    <div>
                        <div class="content_title_box">
                            <p class="content_title">주문 / 배송 목록</p>
                            <div class="d-flex align-items-center gap-3">
                                <p class="gray-color">
                                    최근 1개월 주문내역 입니다.
                                </p>
                                <button class="btn">상세조회</button>
                            </div>
                        </div>
                        <div class="content_box">
                            <div class="order_list_view_box">
                                <div class="order_list_view">
                                    <div class="view_head">
                                        <p>주문내역</p>
                                        <p>주문/배송안내</p>
                                    </div>
                                    <div class="orders_status">
                                        <p th:text="${paymentDoneCount}">0</p>
                                        <p>결제완료</p>
                                    </div>
                                    <div class="orders_status">
                                        <p th:text="${readyCount}">1</p>
                                        <p>준비중</p>
                                    </div>
                                    <div class="orders_status">
                                        <p th:text="${inDeliveryCount}">0</p>
                                        <p>배송중</p>
                                    </div>
                                    <div class="orders_status">
                                        <p th:text="${deliveredCount}">0</p>
                                        <p>배송완료</p>
                                    </div>
                                    <div class="orders_status">
                                        <p th:text="${cancelledCount}">1</p>
                                        <p>취소</p>
                                    </div>
                                </div>
                            </div>
                            <div class="order_list_box">
                                <div class="order_list">
                                    <div class="order_item data_empty" th:if="${#lists.isEmpty(orderlist)}">
                                        <p>주문 / 배송정보가 없습니다.</p>
                                    </div>
                                    <div class="order_item" th:each="list : ${orderlist}" th:if="${!#lists.isEmpty(orderlist)}">
                                        <!-- 주문 요약 -->
                                        <div class="order_summary">
                                            <div>
                                                <span th:text="${#dates.format(list.orderDate,'yyyy.MM.dd') + '(' + list.orderNumber + ')'}">2024.08.04(O24458797451)</span>
                                                <span class="order-detail-btn">상세보기</span>
                                            </div>
                                            <div>
                                                <span class="order-delete-btn">주문내역에서 삭제</span>
                                            </div>
                                        </div>
                                
                                        <!-- 주문 상품 정보 -->
                                        <div class="order_product">
                                            <div>
                                                <div class="img-box">
                                                    <img th:src="'/usr/v1/assets/images/prod/200/'+ ${list.imgSrc} +'.jpg'" alt="">
                                                    <!-- <img th:src="@{/usr/v1/assets/images/prod/200/} + ${list.productImage}" alt=""> -->
                                                </div>
                                            </div>
                                            <div>
                                                <p class="prod_title_box">
                                                    <span class="prod_type">[국내도서 · <span th:text="${list.prodTypeName}"></span>]</span>
                                                    <span class="prod_title" th:text="${list.title}">나쁜 검사들</span>
                                                </p>
                                                <p class="prod_num">수량 : <span th:text="${list.uoQuantity}">1</span></p>
                                            </div>
                                            <div>
                                                <p class="prod_price"><span th:text="${#numbers.formatInteger(list.uoPrice,1,'COMMA')}"></span>원</p>
                                            </div>
                                            <div>
                                                <p class="order_status_box">
                                                    <p class="order_status"><span class="blue_color" th:text="${list.orderStatusText}"></span></p>
                                                    <p class="prod_delivery_date" th:if="${!(list.orderStatus == 10 or list.orderStatus == 19)}"><span th:text="${list.deliveryDate}" ></span> <span class="prod_delivery_status">도착예정</span></p>
                                                    <p class="prod_delivery_date" th:if="${list.orderStatus == 10 or list.orderStatus == 19}" style="visibility: hidden;"><span class="prod_delivery_status"></span></p>
                                                </p>
                                            </div>
                                            
                                            <div class="product_info">
                                                
                                                
                                            </div>
                                            <div th:if="${!(list.orderStatus == 10 or list.orderStatus == 14 or list.orderStatus == 57 or list.orderStatus == 56)}" 
                                                style="visibility: hidden;">
                                                <!-- 이 안의 내용을 차지할 영역 -->
                                                <button class="btn"></button>
                                            </div>
                                            <div th:if="${(list.orderStatus == 10) or (list.orderStatus == 14)}">
                                                <!-- <a href="https://apis.tracker.delivery/carriers/kr.cjlogistics/tracks/1234567890" target="_blank" class="btn btn-blue">배송조회</a> -->
                                                <!-- <a href="https://tracker.delivery/#/kr.cjlogistics/1234567890" target="_blank" class="btn btn-blue">배송조회</a> -->
                                                <a href="#" onclick="window.open('https://tracker.delivery/#/kr.cjlogistics/577215028796', '_blank', 'width=600,height=400'); return false;" class="btn btn-blue">배송조회</a>
                                                <!-- <a href="https://tracker.delivery/#/:carrier_id/:track_id" target="_blank" class="btn btn-blue">배송조회</a> -->
                                            </div>
                                            
                                            <div th:if="${(list.orderStatus == 57) or (list.orderStatus == 56)}">
                                                <button class="btn cancel-btn">취소신청</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <p class="prod_title-box">
                                                    <span class="prod_type" th:text="${list.productType}">[국내도서]</span>
                                                    <span class="prod_title" th:text="${list.productTitle}">나쁜 검사들</span>
                                                </p>
                                                <p class="prod_num">수량 : <span th:text="${list.quantity}">1</span></p>
                                                <p class="prod_price"><span th:text="${list.productPrice}">15,750</span>원</p>
                                                <p class="order-status">
                                                    <span class="blue-color" th:text="${list.orderStatus}">결제완료</span>
                                                    <span class="prod_delivery_date" th:text="${list.deliveryDate}">2024.08.06</span> 도착예정
                                                </p> -->
                                <!-- <table>
                                    <div th:each="list : ${orderlist}">
                                        <tr  class="order_head">
                                            <th colspan="4">
                                                <p>
                                                    <span>2024.08.04(O24458797451)</span> <span>상세보기</span>
                                                </p>
                                            </th>
                                            <th>
                                                <span class="order_delete_btn">주문내역에 삭제</span>
                                            </th>
                                        </tr>
                                        <tr >
                                            <td>
                                                <img src="/usr/v1/assets/images/prod/200/9791193289273.jpg" alt="">
                                            </td>
                                            <td>
                                                <p class="prod_title_box"><span class="prod_type">[국내도서]</span><span class="prod_title">나쁜 검사들</span></p>
                                                <p class="prod_num">수량 : <span>1</span></p>
                                            </td>
                                            <td>
                                                <p class="prod_price"><span>15,750</span>원</p>
                                            </td>
                                            <td>
                                                <p class="blue_color">결제완료</p>
                                                <p class="prod_quantity"><span>2024.08.06</span> 도작예정</p>
                                            </td>
                                            <td>
                                                <button class="btn ">취소신청</button>
                                            </td>
                                        </tr>
                                    </div>
                                    
                                    <tr class="order_head">
                                        <th colspan="4">
                                            <p>
                                                <span>2024.08.04(O41295635312)</span> <span>상세보기</span>
                                            </p>
                                        </th>
                                        <th>
                                            <button class="btn btn-no">주문내역에 삭제</button>
                                        </th>
                                    </tr>
                                    <tr>
                                        <td>
                                            <img src="/usr/v1/assets/images/prod/200/9791191570724.jpg" alt="">
                                        </td>
                                        <td>
                                            <p class="prod_title_box"><span class="prod_type">[국내도서]</span><span class="prod_title">아직 덜 마른 장작</span></p>
                                            <p class="prod_num">수량 : <span>1</span></p>
                                        </td>
                                        <td>
                                            <p class="prod_price"><span>18,000</span>원</p>
                                        </td>
                                        <td>
                                            <p class="blue_color">취소완료</p>
                                        </td>
                                    </tr>
                                </table> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <div class="top_btn"><i class="fa-solid fa-xl fa-chevron-up"></i></div>
        <div th:replace="~{usr/v1/infra/include/footer :: footer}"></div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Bootstrap Select JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.14.0-beta3/js/bootstrap-select.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script src="/usr/v1/assets/js/custom.js"></script>
    <script src="/usr/v1/assets/js/header.js"></script>

</body>
</html>