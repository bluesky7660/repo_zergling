<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>USER</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="/usr/v1/assets/css/bootstrap.min.css" />
    <link rel="shortcut icon" href="/usr/v1/assets/images/favicon.svg"> -->
    <link rel="icon" type="image/png" sizes="256x256" href="/usr/v1/assets/images/favicon/favicon_256x256.png">

    <link rel="stylesheet" href="/usr/v1/assets/css/reset.css">
    
    <!-- <link rel="stylesheet" href="/usr/v1/assets/css/style.css"> -->
    <link rel="stylesheet" href="/usr/v1/assets/css/tiny-slider.css">
    <!-- font-awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- another-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/css/bootstrap-select.min.css" integrity="sha256-wiMI7buOV5UBzdWN4s4kXqE/LZ794hx5oJOOIQlDBaM=" crossorigin="anonymous">
    
    <!-- slick -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>

    <!-- swiper -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="/usr/v1/assets/css/style.css">
    <link rel="stylesheet" href="/usr/v1/assets/css/user_account.css">
    <link rel="stylesheet" href="/usr/v1/assets/css/user_delivery_address_add.css">
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

</head>
<body>
    <div class="page-wrapper">
        <header>
            <div class="navbar_pc">
                <div class="customer_service_area d-flex justify-content-end">
                    <div class="customer_service_box d-flex  align-items-center">
                        <ul class="d-flex gap-3">
                            <li class="" th:if="${!(session != null and session.sessNameXdm != null)}">
                                <a href="signup">회원가입</a>
                            </li>
                            <li class="" th:if="${!(session != null and session.sessNameXdm != null)}">
                                <a href="login">로그인</a>
                            </li>
                            <!-- <li class="">
                                <a href="javascript:void(0);">회원혜택</a>
                            </li> -->
                            <li class="" th:if="${session != null and session.sessNameXdm != null}">
                                <a th:href="@{user_order_list(seq=${session.sessSeqXdm})}">주문배송</a>
                            </li>
                            <li class="" th:if="${session != null and session.sessNameXdm != null}">
                                <span class="logoutBtn">로그아웃</span>
                            </li>
                            <!-- <li class="">
                                <a href="javascript:void(0);">매장안내</a>
                            </li>
                            <li class="">
                                <a href="javascript:void(0);">고객센터</a>
                            </li> -->
                        </ul>
                    </div>
                </div>
                <div class="scrolltable">
                    <div class="gnb_search d-flex justify-content-between gap-5">
                        <div class="search_wrapper d-flex align-items-center  gap-5">
                            <div class="logo" onclick="window.location.href='index'">
                                <img src="./usr/v1/assets/images/logo_book.svg" alt="">
                            </div>
                            <div class="search_area w-100">
                                <div class="search_box d-flex align-items-center gap-3">
                                    <input type="text" class="input-search">
                                    <button class="search_btn"><i class="fa-solid fa-magnifying-glass"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="user_box">
                            <a class="user_my" href="user_account">
                                <span class="user-name" th:if="${session != null and session.sessNameXdm != null}" th:text="${session.sessNameXdm + ' 님' }"></span>
                                <input type="hidden" th:if="${session != null and session.sessNameXdm != null}" id="userIdSeq" name="seq" th:value="${session.sessSeqXdm}">
                                <span class="usr-imgbox">
                                    <img src="./usr/v1/assets/images/btn_header_my@2x.png" alt="">
                                </span>
                            </a>
                        </div>
                    </div>
                    <nav class="gnb_list d-flex align-items-center gap-4">
                        <div class="gnb_wrapper d-flex align-items-center gap-5">
                            <button class="circle_btn"><i class="fa-solid fa-bars"></i></button>
                            <div class="anb_wrapper">
                                <div class="anb_wrapper_area">
                                    <div class="anb_wrapper_list">
                                        <h5 class="anb_category">국내도서</h5>
                                        <ul>
                                            <li onclick="window.location.href='product_list'">국내도서 - 소설</li>
                                            <li onclick="window.location.href='product_list'">국내도서 - 시/에세이</li>
                                            <li onclick="window.location.href='product_detail?seq=1'">도서 상세보기</li>
                                            <li onclick="window.location.href='product_buy?seq=1'">도서 구매</li>
                                        </ul>
                                    </div>
                                    <div class="anb_wrapper_list">
                                        <h5 class="anb_category">회원정보</h5>
                                        <ul>
                                            <li onclick="window.location.href='user_order_list?seq=1'">주문/배송목록</li>
                                            <li onclick="window.location.href='user_delivery_address'">배송주소록</li>
                                            <li onclick="window.location.href='user_delivery_address_add'">배송지추가</li>
                                            <li onclick="window.location.href='user_account?seq=1'">회원정보 변경</li>
                                            <li onclick="window.location.href='user_password?seq=1'">비밀번호 변경</li>
                                        </ul>
                                    </div>
                                    <div class="anb_wrapper_list">
                                        <h5 class="anb_category">그외 기타</h5>
                                        <ul>
                                            <li onclick="window.location.href='login'">로그인</li>
                                            <li onclick="window.location.href='signup'">회원가입</li>
                                            <li onclick="window.location.href='account_recovery'">비밀번호 찾기</li>
                                            <li onclick="window.location.href='account_recovery'">아이디 찾기</li>
                                            <li onclick="window.location.href='header_ver2'">헤더 다른버전2</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <ul class="gnb_link gap-3">
                            <li onclick="window.location.href='product_list'">국내도서</li>
                        </ul>
                    </nav>
                </div>
            </div>
        </header>
        <main>
            <div class="user_header_box">
                <div class="user_imgbox">
                    <div class="img-box">
                        <img src="/usr/v1/assets/images/img_no_profile@2x.png" alt="">
                    </div>
                    <p class="user_name"><span>이창훈</span>님</p>
                </div>
            </div>
            <div class="user_body d-flex justify-content-between">
                <div class="aside_box">
                    <ul class="d-flex flex-column gap-4">
                        <!-- <li onclick="window.location.href='user_account?seq=1'">▶ 유저룸</li> -->
                        <li onclick="window.location.href='user_order_list'">주문 / 배송목록</li>
                        <li class="active"><a th:href="@{user_delivery_address(seq=${session.sessSeqXdm})}">배송주소록</a></li>
                        <li onclick="window.location.href='user_account'">회원정보 수정</a></li>
                        <li onclick="window.location.href='user_password'">비밀번호 변경</a></li>
                        <li class="logoutBtn">로그아웃</li>
                    </ul>
                </div>
                <div class="content_area">
                    <div>
                        <p class="content_title">배송주소록</p>
                        <div class="content_box">
                            <div class="address_add_box">
                                <form method="post" autocomplete="off" action="user_delivery_address_updt">
                                    <input type="hidden" name="daSeq" th:value="${item.daSeq}">
                                    <input type="hidden" name="seq" th:value="${item.member_seq}">
                                    <input type="hidden" id="def_latitude" name="latitude" th:value="${item.latitude}" />
                                    <input type="hidden" id="def_longitude" name="longitude" th:value="${item.longitude}" />
                                    <p class="box_title">배송지 수정</p>
                                    <ul>
                                        <li>
                                            <label for="">배송지명</label>
                                            <div>
                                                <input type="text" class="form-control" name="addressName" th:value="${item.addressName}" maxlength="7" placeholder="최대 7글자까지 자유롭게 수정가능">
                                                <div class="invalid-feedback">
                                                    배송지명을 적어주세요.
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <label for="">받는 분</label>
                                            <div>
                                                <input type="text" class="form-control" name="RecipientName" th:value="${item.RecipientName}" maxlength="7" placeholder="이름을 입력해 주세요.">
                                                <div class="invalid-feedback">
                                                    이름을 적어주세요.
                                                </div>
                                            </div>
                                            <div>
                                                <input type="text" class="form-control" name="RecipientPhone" th:value="${item.RecipientPhone}" maxlength="11" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" pattern="[0-9]+" placeholder="휴대폰번호를 -없이 입력해 주세요.">
                                                <div class="invalid-feedback">
                                                    전화번호를 적어주세요.
                                                </div>
                                            </div>
                                        </li>
                                        <li class="address_area">
                                            <label for="">주소</label>
                                            <div class="address_box">
                                                <div class="postcode_box">
                                                    <input type="text" id="sample4_postcode" class="form-control" name="daZonecode" th:value="${item.daZonecode}" placeholder="우편번호">
                                                    <input type="button" onclick="sample4_execDaumPostcode()" class="form-control" value="우편번호 찾기">
                                                </div>
                                                
                                                <input type="text" id="sample4_roadAddress" class="form-control" name="daRoadAddress" th:value="${item.daRoadAddress}" placeholder="도로명주소">
                                                <input type="text" id="sample4_jibunAddress" class="form-control" name="daJibunAddress" th:value="${item.daJibunAddress}" placeholder="지번주소">
                                                <span id="guide" style="color:#999;display:none"></span>
                                                <input type="text" id="sample4_extraAddress" class="form-control" name="daExtraAddress" th:value="${item.daExtraAddress}" placeholder="참고항목">
                                                <div class="invalid-feedback">
                                                    주소를 찾아 선택해주세요.
                                                </div>
                                                <div id="map" ></div>
                                            </div>
                                            <div>
                                                <input type="text" id="sample4_detailAddress" class="form-control" name="daDetailAddress" th:value="${item.daDetailAddress}" placeholder="상세주소">
                                                <div class="invalid-feedback">
                                                    상세주소를 적어주세요.
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <input type="checkbox" class="form-check-input" name="defaultNy" id="default_address" th:value="${item.defaultNy}" th:checked="${item.defaultNy == 1}" onclick="this.value = this.checked ? '1' : '0';">
                                            <input type="hidden" class="form-check-input" name="defaultNy" id="default_addressH" value="0">
                                            <label for="default_address">기본배송지로 설정</label>
                                        </li>
                                    </ul>
                                    <div class="btn-box mt-5">
                                        <button class="btn address_add_btn" type="submit">저장</button>
                                    </div>
                                </form>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <div class="top_btn"><i class="fa-solid fa-xl fa-chevron-up"></i></div>
        <footer>
            <div class="notice">
                <div class="d-flex justify-content-between">
                    <div class="d-flex justify-content-between">
                        <div class="d-flex gap-3">
                            <strong>공지사항</strong>
                            <span class="notice_text">
                                상품권(해피머니, 컬쳐캐쉬) 사용 일시 중지 안내
                            </span>
                        </div>
                        <strong class="notice_more">더보기</strong>
                    </div>
                    <span class="line_space">|</span>
                    <div class="d-flex justify-content-between">
                        <div class="d-flex gap-3">
                            <strong>당첨자발표</strong>
                            <span class="notice_text">
                                [로맨스/BL소설][24년 7/5] 먼슬리 교보💰캐시DREAM 당첨자 발표
                            </span>
                        </div>
                        <strong class="notice_more">더보기</strong>
                    </div>
                    
                </div>
            </div>
            <div class="footer mt-3">
                <div class="footer-top d-flex justify-content-between">
                    <div class="logo">
                        <img src="/usr/v1/assets/images/img_logo_kyobo_member@2x.png" alt="">
                    </div>
                    <div class="d-flex gap-3 align-items-center">
                        <select class="form-select" name="" id="">
                            <option value="">Family Site</option>
                        </select>
                        <div class="icons d-flex gap-3">
                            <div class="icon-box"><img src="/usr/v1/assets/images/btn_footer_sns_youtube_v2@2x.png" alt=""></div>
                            <div class="icon-box"><img src="/usr/v1/assets/images/btn_footer_sns_fb_v2@2x.png" alt=""></div>
                            <div class="icon-box"><img src="/usr/v1/assets/images/btn_footer_sns_insta_v2@2x.png" alt=""></div>
                        </div>
                    </div>
                </div>
                <div class="footer-bottom d-flex mt-3 gap-2">
                    <div class="left-box">
                        <ul class="footer_menu_list d-flex gap-3">
                            <li>회사소개</li>
                            <li>이용약관</li>
                            <li>개인정보처리방침</li>
                            <li>청소년보호정책</li>
                            <li>대량주문안내</li>
                            <li>협력사여러분</li>
                            <li>채용정보</li>
                            <li>광고소개</li>
                        </ul>
                        <ul class="footer_info_box d-flex flex-wrap gap-1 mt-3">
                            <li>대표이사 : 안병현, 김상훈</li>
                            <li>서울특별시 종로구 종로 1</li>
                            <li>사업자등록번호 : 102-81-11670</li>
                            <li>대표전화 : 1544-1900(발신자 부담전화)</li>
                            <li>FAX : 0502-987-5711(지역번호 공통)</li>
                            <li>서울특별시 통신판매업신고번호 : 제 653호</li>
                            <li class="btn_footer">사업자정보확인</li>
                        </ul>
                        <div class="copyright"></div>
                    </div>
                    <div class="right-box">
                        <div>
                            <p>
                                <span>토스페이먼츠 구매안전서비스</span>
                                <span class="btn_footer">서비스 가입 확인</span>
                            </p>
                            <span>
                                고객님은 안전거래를 위해 현금 등으로 결제시 저희 쇼핑몰에서 가입한<br>
                                토스페이먼츠의 구매안전서비스를 이용하실 수 있습니다.
                            </span>
                        </div>

                        <div class="d-flex mt-3 gap-3">
                            <div class="d-flex gap-2">
                                <div class="img-box">
                                    <img src="/usr/v1/assets/images/img_mark_isms@2x.png" alt="">
                                </div>
                                <p>
                                    정보보호관리체계<br>ISMS 인증획득
                                </p>
                            </div>
                            <div>
                                <p>
                                    [인증범위] 인터넷 교보문고 및 브랜드 서비스 운영<br>
                                    [유효기간] 2023.11.15 ~ 2026.11.14
                                </p>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </footer>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Bootstrap Select JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.14.0-beta3/js/bootstrap-select.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script src="/usr/v1/assets/js/custom.js"></script>
    <script src="/usr/v1/assets/js/header.js"></script>

    <!-- 카카오 우편번호,지도 -->
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=30e202c150f42daab8c05bb9a37caa8d&libraries=services"></script>
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=30e202c150f42daab8c05bb9a37caa8d"></script>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

    <script src="/usr/v1/assets/js/address.js"></script>

    <!-- by developer -->
    <!-- <script src="/usr/v1/assets/js/custom.js"></script>
    <script src="/usr/v1/assets/js/header.js"></script> -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {

            var x = document.getElementById("def_longitude").value;
            var y = document.getElementById("def_latitude").value;
            console.log("안의 x: "+ x +", y: "+y);
            var container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
            container.style.width = "100%";
            container.style.height = "200px";
            container.style.border = "1px solid #000";
            var options = { //지도를 생성할 때 필요한 기본 옵션
                center: new kakao.maps.LatLng(y, x), //지도의 중심좌표.
                level: 3 //지도의 레벨(확대, 축소 정도)
            };

            // 지도를 생성한다 
            var map = new kakao.maps.Map(container, options); 

            // 지도에 마커를 생성하고 표시한다
            var marker = new kakao.maps.Marker({
                position: new kakao.maps.LatLng(y, x), // 마커의 좌표
                map: map // 마커를 표시할 지도 객체
            });
        });
    </script>
</body>
</html>